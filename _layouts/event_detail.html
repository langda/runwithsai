<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
  <meta charset="utf-8" />
  <title>{{ page.event_title }} - {{ site.title }}</title>

  <!-- Automatically generated SEO meta tags -->
  {% seo %}

  <!-- SEO Meta Tags -->
  <title>{{ page.event_title }} - {{ site.title }}</title>
  <meta name="description" content="{{ page.short_description | strip_html | truncate: 160 }}" />
  <meta name="keywords" content="marathon, run, event, {{ page.event_title }}, Cambodia" />
  <meta name="author" content="{{ site.author }}" />
 
  <!-- Open Graph / Facebook Meta Tags -->
  <meta property="og:type" content="event" />
  <meta property="og:url" content="{{ site.url }}{{ site.baseurl }}/events/{{ page.slug }}/" />
  <meta property="og:title" content="{{ page.event_title }} - {{ site.title }}" />
  <meta property="og:description" content="{{ page.short_description | strip_html | truncate: 160 }}" />
  {% if page.images and page.images.size > 0 %}
    <meta property="og:image" content="{{ site.url }}{{ site.baseurl }}/{{ page.images[0] }}" />
  {% else %}
    <meta property="og:image" content="{{ site.url }}{{ site.baseurl }}/assets/img/logo/about_us.jpg" />
  {% endif %}
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="{{ page.event_title }} event image" />
  <meta property="og:site_name" content="{{ site.title }}" />
  <meta property="event:start_time" content="{{ page.date | date_to_xmlschema }}" />
 
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="{{ page.event_title }} - {{ site.title }}" />
  <meta name="twitter:description" content="{{ page.short_description | strip_html | truncate: 160 }}" />
  {% if page.images and page.images.size > 0 %}
    <meta name="twitter:image" content="{{ site.url }}{{ site.baseurl }}/{{ page.images[0] }}" />
  {% else %}
    <meta name="twitter:image" content="{{ site.url }}{{ site.baseurl }}/assets/img/logo/about_us.jpg" />
  {% endif %}
  <meta name="twitter:image:alt" content="{{ page.event_title }} event image" />
 
  <!-- Rest of your head content from home.html -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="assets/js/theme-switcher.js"></script>

  <!-- Other meta tags and links -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Theme switcher (color modes) -->
  <!-- <script src="{{ site.baseurl }}/assets/js/theme-switcher.js"></script> -->

  <!-- Favicon and Touch Icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="{{ site.baseurl }}/assets/favicon/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="{{ site.baseurl }}/assets/favicon/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="{{ site.baseurl }}/assets/favicon/favicon-16x16.png" />
  <link rel="manifest" href="{{ site.baseurl }}/assets/favicon/site.webmanifest" />
  <link rel="mask-icon" href="{{ site.baseurl }}/assets/favicon/safari-pinned-tab.svg" color="#6366f1" />
  <link rel="shortcut icon" href="{{ site.baseurl }}/assets/favicon/favicon.ico" />
  <meta name="msapplication-TileColor" content="#080032" />
  <meta name="msapplication-config" content="{{ site.baseurl }}/assets/favicon/browserconfig.xml" />
  <meta name="theme-color" content="#ffffff" />

  <!-- Vendor Styles -->
  <link rel="stylesheet" media="screen" href="{{ site.baseurl }}/assets/vendor/boxicons/css/boxicons.min.css" />
  <link rel="stylesheet" media="screen" href="{{ site.baseurl }}/assets/vendor/swiper/swiper-bundle.min.css" />
  <link rel="stylesheet" media="screen" href="{{ site.baseurl }}/assets/vendor/lightgallery/css/lightgallery-bundle.min.css" />

  <!-- Main Theme Styles + Bootstrap -->
  <link rel="stylesheet" media="screen" href="{{ site.baseurl }}/assets/css/theme.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Custom Styles -->
  <link rel="stylesheet" href="{{ site.baseurl }}/style.css" />
  <script src="{{ site.baseurl }}/assets/js/script.js" defer></script>

  <!-- Custom Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Playfair+Display:wght@700&family=Kantumruy:wght@400;700&family=Hanuman:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Back to Events Button (Top Left) -->
  <div class="container-fluid py-3 bg-light">
    <div class="container">
      <a href="{{ site.baseurl }}/#all_events" class="btn btn-outline-secondary">
        <i class="bx bx-arrow-back fs-3 me-2"></i> Back to All Events
      </a>
    </div>
  </div>

  <!-- Hero Section -->
  <div class="hero-section">
    <div class="container">
      <h1 class="display-4 fw-bold">{{ page.event_title }}</h1>
      <p class="lead">{{ page.year }} | {{ page.section }}</p>
    </div>
  </div>

  <!-- Event Detail Section -->
  <section class="container py-5">
    <div class="row">
      <!-- Event Content -->
      <div class="col-12 col-lg-8 mx-auto">
        <div class="content fs-6">
          {{ content }}
        </div>

        <!-- Event Images (if available) -->
        {% if page.images.size > 0 %}
        <div class="col-12 mt-5">
          <h3 class="text-dark fw-bold mb-4">Event Gallery</h3>
          <div class="row g-4">
            {% for image in page.images limit:4 %}
              <div class="col-md-6 mb-3">
                <div class="image-container">
                  <img src="{{ site.baseurl }}/{{ image }}" alt="Event Image {{ forloop.index }}" class="img-fluid rounded" onclick="openImageModal('event-gallery', '{{ forloop.index0 }}')" />
                  {% if forloop.last and page.images.size > 4 %}
                    <div class="image-overlay" onclick="openImageModal('event-gallery', '{{ forloop.index0 }}')">
                      <h4 class="text-white mb-0">
                        +<span id="remainingCount">{{ page.images.size | minus: 4 }}</span>
                        <i class="bx bx-camera ms-2"></i>
                      </h4>
                    </div>
                  {% endif %}
                </div>
              </div>
            {% endfor %}
          </div>
        </div>

        <!-- Image Modal -->
        <div id="imageModalevent-gallery" class="modal fade" tabindex="-1" aria-hidden="true" data-images='{{ page.images | jsonify }}'>
          <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content bg-transparent border-0">
              <div class="modal-body position-relative p-0 text-center">
                <img id="modalImageevent-gallery" src="" class="img-fluid rounded modal-img" />
                <i class="bx bx-chevron-left nav-arrow left-arrow" onclick="prevImage('event-gallery')"></i>
                <i class="bx bx-chevron-right nav-arrow right-arrow" onclick="nextImage('event-gallery')"></i>
                <span id="imageCountevent-gallery" class="image-counter"></span>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
    </div>
  </section>

  <!-- Vendor Scripts -->
  <script src="{{ site.baseurl }}/assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="{{ site.baseurl }}/assets/vendor/lightgallery/lightgallery.min.js"></script>
  <script src="{{ site.baseurl }}/assets/vendor/lightgallery/plugins/fullscreen/lg-fullscreen.min.js"></script>
  <script src="{{ site.baseurl }}/assets/vendor/lightgallery/plugins/zoom/lg-zoom.min.js"></script>
  <script src="{{ site.baseurl }}/assets/vendor/lightgallery/plugins/video/lg-video.min.js"></script>

  <!-- Main Theme Script -->
  <script src="{{ site.baseurl }}/assets/js/theme.min.js"></script>
</body>
</html>
